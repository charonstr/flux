<!doctype html>
<html lang="{{ current }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ t.get("blackjack", "Blackjack") }} - Euphorium</title>
    <link rel="stylesheet" href="/pc/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body { background-color: #050505; }
        .table-wrap { max-width: 1400px; margin: 0 auto; padding: 10px; }
        .table { position: relative; min-height: 85vh; border-radius: 60px; padding: 40px; background: radial-gradient(circle at 50% 30%, #0d5f35 0%, #05331a 100%); border: 24px solid #2e1503; box-shadow: inset 0 0 50px rgba(0,0,0,0.8), 0 30px 60px rgba(0,0,0,0.6), inset 0 0 0 6px rgba(255,255,255,0.05); overflow: hidden; display: flex; flex-direction: column; justify-content: space-between; }
        .table::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E"); pointer-events: none; }
        .table::after { content: 'BLACKJACK PAYS 3 TO 2'; position: absolute; top: 35%; left: 50%; transform: translate(-50%, -50%); color: rgba(255,255,255,0.07); font-size: 3.5rem; font-weight: 900; letter-spacing: 6px; pointer-events: none; width: 100%; text-align: center; }
        .zone { position: relative; z-index: 10; padding: 20px; min-height: 240px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .dealer-zone { margin-bottom: auto; width: 60%; margin: 0 auto; border: 2px dashed rgba(255,255,255,0.1); border-top: none; border-radius: 0 0 250px 250px; background: rgba(0,0,0,0.15); box-shadow: inset 0 -10px 30px rgba(0,0,0,0.2); }
        .player-zone { margin-top: auto; padding-top: 50px; }
        .zone-head { position: absolute; top: -15px; background: #05331a; padding: 6px 20px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.2); color: #a7f3d0; font-weight: 800; font-size: 1.1rem; display: flex; gap: 12px; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.6); z-index: 20; }
        .cards { display: flex; justify-content: center; gap: -50px; min-height: 160px; perspective: 1000px; margin-top: 10px; }
        
        .card { width: 110px; height: 160px; border-radius: 12px; background: #fff; border: 1px solid #d4d4d4; box-shadow: -5px 10px 20px rgba(0,0,0,0.4), inset 0 0 0 4px #fff, inset 0 0 0 5px rgba(0,0,0,0.1); padding: 10px; display: flex; flex-direction: column; justify-content: space-between; transform: translate3d(400px, -400px, 100px) rotateY(180deg) rotateZ(45deg); opacity: 0; transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease-out; margin-left: -60px; position: relative; }
        .card:first-child { margin-left: 0; }
        .card.in { transform: translate3d(0, 0, 0) rotateY(0deg) rotateZ(var(--rot-deg)); opacity: 1; }
        
        @keyframes cardFlip {
            0% { transform: rotateY(90deg) rotateZ(var(--rot-deg)); opacity: 0.5; }
            100% { transform: rotateY(0deg) rotateZ(var(--rot-deg)); opacity: 1; }
        }
        .card.flip { animation: cardFlip 0.4s ease-out forwards; }
        
        .card.back { background: repeating-linear-gradient(45deg, #b91c1c, #b91c1c 10px, #991b1b 10px, #991b1b 20px); border: 2px solid #fff; box-shadow: -5px 10px 20px rgba(0,0,0,0.4); justify-content: center; align-items: center; font-size: 3rem; color: rgba(255,255,255,0.5); }
        .card.red { color: #dc2626; }
        .card.black { color: #111827; }
        .rank { font-size: 1.8rem; font-weight: 900; line-height: 1; }
        .suit { font-size: 3rem; line-height: 1; text-align: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.15; }
        .suit-small { font-size: 1.4rem; align-self: flex-end; transform: rotate(180deg); }
        
        .center-panel { position: absolute; left: 50%; top: 48%; transform: translate(-50%, -50%); width: min(700px, 95%); background: transparent; display: flex; flex-direction: column; align-items: center; gap: 20px; z-index: 20; pointer-events: none; }
        .center-panel > * { pointer-events: auto; }
        
        .status { display: flex; justify-content: center; gap: 40px; font-size: 1.1rem; font-weight: 800; color: rgba(255,255,255,0.4); text-transform: uppercase; letter-spacing: 2px; }
        .status b { color: rgba(255,255,255,0.8); font-size: 1.2rem; margin-left: 8px; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
        
        .actions { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; align-items: center; width: 100%; }
        
        .bet-group { display: flex; background: rgba(0,0,0,0.4); border-radius: 999px; border: 2px solid rgba(255,255,255,0.1); overflow: hidden; box-shadow: inset 0 4px 10px rgba(0,0,0,0.5), 0 4px 15px rgba(0,0,0,0.4); backdrop-filter: blur(5px); transition: border-color 0.3s; }
        .bet-group:hover { border-color: rgba(255,255,255,0.3); }
        .bet-input { width: 90px; padding: 10px 14px; border: none; background: transparent; color: #fff; font-weight: 900; font-size: 1.2rem; text-align: center; outline: none; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .bet-input::-webkit-inner-spin-button, .bet-input::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .bet-group button { min-width: 50px; border-radius: 0; background: transparent; border: none; color: #a1a1aa; font-weight: 800; font-size: 0.95rem; cursor: pointer; transition: all 0.2s; }
        .bet-group button:hover:not(:disabled) { background: rgba(255,255,255,0.1); color: #fff; }
        .bet-group button:first-child { border-right: 1px solid rgba(255,255,255,0.1); }
        .bet-group button:last-child { border-left: 1px solid rgba(255,255,255,0.1); }
        
        .action-btn { padding: 12px 24px; font-size: 1rem; font-weight: 800; border-radius: 999px; text-transform: uppercase; letter-spacing: 1.2px; border: none; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 4px 15px rgba(0,0,0,0.4); color: #fff; display: flex; align-items: center; gap: 8px; }
        .action-btn:hover:not(:disabled) { transform: translateY(-3px) scale(1.03); box-shadow: 0 8px 25px rgba(0,0,0,0.5); }
        .action-btn:active:not(:disabled) { transform: translateY(0) scale(0.97); }
        .action-btn:disabled { opacity: 0.4; cursor: not-allowed; filter: grayscale(1); }
        
        #newBtn { background: linear-gradient(135deg, #10b981, #059669); border: 1px solid rgba(16, 185, 129, 0.5); }
        #hitBtn { background: linear-gradient(135deg, #3b82f6, #2563eb); border: 1px solid rgba(59, 130, 246, 0.5); }
        #standBtn { background: linear-gradient(135deg, #ef4444, #dc2626); border: 1px solid rgba(239, 68, 68, 0.5); }
        
        .result-win { color: #34d399 !important; text-shadow: 0 0 15px rgba(52,211,153,0.8) !important; }
        .result-lose { color: #f87171 !important; text-shadow: 0 0 15px rgba(248,113,113,0.8) !important; }
        .result-push { color: #facc15 !important; text-shadow: 0 0 15px rgba(250,204,21,0.8) !important; }
        
        .top-links { margin-bottom: 20px; display: flex; gap: 16px; align-items: center; }
        .top-links .linkbtn { background: rgba(0,0,0,0.4); padding: 10px 20px; border-radius: 999px; text-decoration: none; color: #fff; font-weight: 600; transition: all 0.2s; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(5px); }
        .top-links .linkbtn:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.3); }
        .balance-badge { margin-left: auto; display: inline-flex; align-items: center; gap: 10px; padding: 10px 24px; border-radius: 999px; border: 2px solid rgba(245,158,11,0.4); background: rgba(0,0,0,0.6); color: #fcd34d; font-weight: 800; font-size: 1.2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.5); backdrop-filter: blur(5px); }
        
        #msg { display: block; width: 100%; text-align: center; margin-top: 8px; color: rgba(255,255,255,0.4); font-style: italic; font-size: 0.9rem; font-weight: 600; letter-spacing: 1px; }
        
        @media (max-width: 900px) { 
            .table { min-height: 75vh; padding: 20px; border-width: 12px; border-radius: 40px; } 
            .card { width: 80px; height: 120px; margin-left: -40px; } 
            .rank { font-size: 1.4rem; } 
            .suit { font-size: 2rem; } 
            .status { gap: 15px; font-size: 0.9rem; flex-wrap: wrap; text-align: center; }
            .status b { font-size: 1rem; }
            .action-btn { padding: 10px 18px; font-size: 0.9rem; }
            .center-panel { top: 50%; }
        }
    </style>
</head>
<body>
    <main class="table-wrap">
        <div class="top-links">
            <a href="/casino" data-nav="soft" class="linkbtn"><i class="fa-solid fa-arrow-left"></i> Menü</a>
            <div id="balanceBadge" class="balance-badge"><i class="fa-solid fa-coins"></i><span id="balanceText">0</span></div>
        </div>
        <section class="table">
            <div class="zone dealer-zone">
                <div class="zone-head"><i class="fa-solid fa-user-tie"></i> Krupiye <span id="dealerTotal" style="background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:6px;color:#fff;"></span></div>
                <div id="dealerCards" class="cards"></div>
            </div>
            
            <div class="center-panel">
                <div class="status">
                    <span>Durum: <b id="phase">BEKLİYOR</b></span>
                    <span>Eliniz: <b id="playerTotal">0</b></span>
                    <span>Sonuç: <b id="result">-</b></span>
                </div>
                <div class="actions">
                    <div class="bet-group">
                        <button id="betMinBtn" type="button">MIN</button>
                        <input id="betInput" class="bet-input" type="number" min="100" step="1" value="100" />
                        <button id="betMaxBtn" type="button">MAX</button>
                    </div>
                    <button id="newBtn" class="action-btn" type="button"><i class="fa-solid fa-play"></i> DAĞIT</button>
                    <button id="hitBtn" class="action-btn" type="button" disabled><i class="fa-solid fa-plus"></i> KART İSTE</button>
                    <button id="standBtn" class="action-btn" type="button" disabled><i class="fa-solid fa-hand"></i> DUR</button>
                    <span id="msg">Bahis yapın ve dağıt butonuna basın.</span>
                </div>
            </div>

            <div class="zone player-zone">
                <div class="zone-head"><i class="fa-solid fa-user"></i> Oyuncu <span id="playerTotalBottom" style="background:rgba(0,0,0,0.5);padding:2px 8px;border-radius:6px;color:#fff;">0</span></div>
                <div id="playerCards" class="cards"></div>
            </div>
        </section>
    </main>
    <script src="/pc/js/app.js"></script>
    <script src="/pc/js/casino/blackjack.js"></script>
</body>
</html>


