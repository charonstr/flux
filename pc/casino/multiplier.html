<!doctype html>
<html lang="{{ current }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cyber Carpan - Euphorium</title>
  <link rel="stylesheet" href="/pc/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    /* CYBERPUNK THEME - ENHANCED VISUALS */
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap');
    
    :root {
      --mx-bg: #05010e;
      --mx-panel: #0b071a;
      --mx-line: #301b4d;
      --mx-text: #e0d9f0;
      --mx-muted: #8b7ca6;
      --mx-gold: #ffbe0b;
      --mx-neon-cyan: #00f0ff;
      --mx-neon-pink: #ff0055;
      --mx-neon-purple: #b500ff;
    }
    
    body {
      background: linear-gradient(0deg, #05010e 0%, #15092a 100%);
      background-attachment: fixed;
      color: var(--mx-text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* Grid background pattern */
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: 
        linear-gradient(rgba(181, 0, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(181, 0, 255, 0.05) 1px, transparent 1px);
      background-size: 30px 30px;
      z-index: -1;
      pointer-events: none;
    }

    .mx-wrap { max-width: 1000px; margin: 0 auto; padding: 30px 24px; }
    .mx-top { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin-bottom: 24px; border-bottom: 1px solid var(--mx-neon-purple); padding-bottom: 15px; box-shadow: 0 10px 20px -10px rgba(181, 0, 255, 0.3); }
    .mx-title { font-size: 2rem; font-family: 'Orbitron', sans-serif; font-weight: 900; letter-spacing: 2px; color: var(--mx-neon-cyan); text-shadow: 0 0 10px var(--mx-neon-cyan); margin: 0; text-transform: uppercase; }
    .mx-badge { display: inline-flex; gap: 8px; align-items: center; background: rgba(255, 190, 11, 0.1); border: 1px solid var(--mx-gold); color: var(--mx-gold); text-shadow: 0 0 5px var(--mx-gold); border-radius: 4px; padding: 10px 18px; font-weight: 800; font-family: 'Orbitron', sans-serif; box-shadow: inset 0 0 10px rgba(255, 190, 11, 0.2); }
    
    .mx-grid { display: grid; grid-template-columns: 1.5fr 1fr; gap: 24px; }
    
    .mx-card { 
      background: rgba(11, 7, 26, 0.85); 
      border: 1px solid var(--mx-line); 
      border-radius: 8px; 
      padding: 24px; 
      box-shadow: 0 0 30px rgba(0,0,0,0.8), inset 0 0 20px rgba(181, 0, 255, 0.1); 
      display: flex; 
      flex-direction: column; 
      justify-content: space-between; 
      position: relative;
      overflow: hidden;
    }
    
    .mx-card::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
        background: linear-gradient(90deg, transparent, var(--mx-neon-pink), transparent);
    }
    
    .mx-card-title {
        font-family: 'Orbitron', sans-serif; font-weight: 700; color: var(--mx-neon-purple); text-shadow: 0 0 5px var(--mx-neon-purple); letter-spacing: 1px; font-size: 1.1rem; margin-bottom: 10px;
    }

    /* CYBER REEL */
    .mx-reel { display: grid; grid-template-columns: repeat(5, minmax(0, 1fr)); gap: 15px; margin: 40px 0; }
    .mx-box { 
      min-height: 120px; 
      border-radius: 6px; 
      border: 2px solid #231140; 
      display: grid; 
      place-items: center; 
      font-family: 'Orbitron', sans-serif;
      font-weight: 900; 
      font-size: 1.6rem; 
      background: #090314; 
      perspective: 800px; 
      transform-style: preserve-3d; 
      box-shadow: 0 10px 20px rgba(0,0,0,0.5);
      position: relative;
    }
    .mx-box::after { content: ''; position: absolute; inset: 2px; border: 1px dashed rgba(255,255,255,0.05); pointer-events: none;}
    
    .mx-box.locked::before { 
      content: '[]'; 
      color: #3b2a59; 
      font-size: 2.5rem;
      animation: cyberPulse 2s infinite alternate;
    }

    /* Yeni Cyberpunk Animasyonlar */
    .mx-box.tier-0  { animation: cyberFlip0 0.5s ease-in-out both; }         /* 0x: Kırmızı Uyarı */
    .mx-box.tier-1  { animation: cyberFlip1 0.7s ease-in-out both; }     /* 1x: Temel Mavi */
    .mx-box.tier-2  { animation: cyberFlip2 0.8s ease-in-out both; }     /* 2x: Cyan Glow */
    .mx-box.tier-3  { animation: cyberFlip3 1.0s ease-in-out both; }       /* 3x-4x: Pembe/Mor Glow */
    .mx-box.tier-5  { animation: cyberFlip5 1.4s ease-in-out both; }       /* 5x-9x: Altın Sarısı Glitch */
    .mx-box.tier-10 { animation: cyberFlip10 2.2s ease-in-out both; }                                /* 10x-19x: Neon Yeşil Epic */
    .mx-box.tier-20 { animation: cyberFlip20 2.8s ease-in-out both; }                                /* 20x+: Saf Beyaz / Mor Patlama */

    .mx-controls { display: grid; grid-template-columns: 1fr auto auto auto; gap: 12px; margin-top: 16px; }
    .mx-controls input { min-width: 0; height: 48px; border-radius: 4px; border: 1px solid var(--mx-neon-cyan); background: rgba(0, 240, 255, 0.05); color: var(--mx-neon-cyan); padding: 0 16px; font-weight: 800; font-family: 'Orbitron', sans-serif; font-size: 1.1rem; outline: none; box-shadow: inset 0 0 10px rgba(0,240,255,0.1); }
    .mx-controls input:focus { box-shadow: inset 0 0 15px rgba(0,240,255,0.3), 0 0 10px rgba(0,240,255,0.2); }
    .mx-btn { height: 48px; border: 1px solid var(--mx-neon-purple); background: rgba(181, 0, 255, 0.1); color: #fff; border-radius: 4px; padding: 0 20px; font-weight: 800; cursor: pointer; text-transform: uppercase; font-family: 'Orbitron', sans-serif; transition: all 0.2s;}
    .mx-btn:hover:not(:disabled) { background: rgba(181, 0, 255, 0.3); box-shadow: 0 0 15px rgba(181, 0, 255, 0.4); text-shadow: 0 0 5px #fff; }
    .mx-btn:disabled { opacity: 0.3; cursor: not-allowed; border-color: #333; color: #555; box-shadow: none;}
    
    .mx-btn.play { background: var(--mx-neon-pink); border-color: #ff3377; color: #fff; box-shadow: 0 0 20px rgba(255, 0, 85, 0.5); font-size: 1.1rem; }
    .mx-btn.play:hover:not(:disabled) { background: #ff3377; box-shadow: 0 0 30px rgba(255, 0, 85, 0.8); transform: scale(1.02); }
    
    .mx-state { margin-top: 15px; color: var(--mx-neon-cyan); font-family: 'Orbitron', sans-serif; font-size: 0.85rem; letter-spacing: 1px; min-height: 20px; text-transform: uppercase; }
    
    .mx-result { display: grid; gap: 12px; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; border: 1px solid #2a1b42; }
    .mx-line { display: flex; justify-content: space-between; border-bottom: 1px dotted rgba(181, 0, 255, 0.3); padding-bottom: 8px; font-family: 'Orbitron', sans-serif; }
    .mx-line span { color: var(--mx-muted); font-size: 0.85rem; text-transform: uppercase; }
    .mx-line b { font-size: 1.1rem; color: #fff; text-shadow: 0 0 5px rgba(255,255,255,0.3); }
    .mx-line .gain { color: #00ffaa; text-shadow: 0 0 10px #00ffaa; }
    .mx-line .loss { color: var(--mx-neon-pink); text-shadow: 0 0 10px var(--mx-neon-pink); }
    .mx-picks { color: var(--mx-neon-cyan); font-weight: 700; word-break: break-word; }
    
    .mx-result.flash { animation: cyberPulseResult 1s ease 1; }
    .mx-result.mega { border-color: #00ffaa; background: rgba(0, 255, 170, 0.1); box-shadow: 0 0 20px rgba(0, 255, 170, 0.3); }
    
    .mx-history { margin-top: 14px; max-height: 260px; overflow: auto; padding-right: 5px; }
    .mx-history::-webkit-scrollbar { width: 4px; }
    .mx-history::-webkit-scrollbar-thumb { background: var(--mx-neon-purple); border-radius: 4px; }
    .mx-row { display: grid; grid-template-columns: 1.2fr 0.8fr 0.8fr 0.8fr; gap: 8px; padding: 10px 4px; border-bottom: 1px solid rgba(181, 0, 255, 0.15); font-size: 0.9rem; font-family: monospace; align-items: center;}
    .mx-row:hover { background: rgba(255,255,255,0.03); }
    .mx-hdr { color: var(--mx-neon-cyan); font-family: 'Orbitron', sans-serif; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 1px; border-bottom: 2px solid var(--mx-neon-cyan); padding-bottom: 8px;}
    
    /* ---- CYBERPUNK KEYFRAMES ---- */
    
    @keyframes cyberPulse {
      0% { transform: scale(0.95); opacity: 0.5; text-shadow: none; }
      100% { transform: scale(1.05); opacity: 1; text-shadow: 0 0 10px var(--mx-neon-purple); }
    }

    @keyframes cyberFlip0 {
      0% { transform: rotateX(-90deg); opacity: 0; }
      100% { transform: rotateX(0deg); color: #ff0055; border-color: #550011; background: #110005; text-shadow: 0 0 5px #ff0055; box-shadow: inset 0 0 15px rgba(255,0,85,0.2); }
    }

    @keyframes cyberFlip1 {
      0% { transform: rotateX(-90deg); opacity: 0; }
      100% { transform: rotateX(0deg); color: #5c7cfa; border-color: #1a2a6c; background: rgba(26,42,108,0.2); text-shadow: 0 0 8px #5c7cfa; }
    }

    @keyframes cyberFlip2 {
      0% { transform: rotateX(-90deg); opacity: 0; }
      100% { transform: rotateX(0deg); color: #00f0ff; border-color: #0088aa; background: rgba(0,240,255,0.1); text-shadow: 0 0 10px #00f0ff; box-shadow: 0 0 10px rgba(0,240,255,0.2); }
    }

    @keyframes cyberFlip3 {
      0% { transform: rotateX(-90deg); opacity: 0; }
      100% { transform: rotateX(0deg); color: #b500ff; border-color: #660099; background: rgba(181,0,255,0.15); text-shadow: 0 0 15px #b500ff; box-shadow: 0 0 15px rgba(181,0,255,0.3), inset 0 0 10px rgba(181,0,255,0.2); }
    }

    @keyframes cyberFlip5 {
      0% { transform: rotateY(90deg) scale(0.8); opacity: 0; }
      50% { transform: rotateY(-20deg) scale(1.2); text-shadow: 0 0 20px #ffbe0b; color: #fff;}
      100% { transform: rotateY(0deg) scale(1); color: #ffbe0b; border-color: #cc9900; background: rgba(50,40,0,0.8); text-shadow: 0 0 15px #ffbe0b; box-shadow: 0 0 20px rgba(255,190,11,0.4), inset 0 0 15px rgba(255,190,11,0.2); }
    }

    @keyframes cyberFlip10 {
      0% { transform: translateY(-50px) scale(0.5); opacity: 0; }
      20% { transform: translateY(10px) scale(1.1); color: #fff; text-shadow: 0 0 30px #00ffaa; }
      40% { transform: translateY(-5px) scale(1); }
      100% { transform: translateY(0) scale(1); color: #00ffaa; border-color: #00aa66; background: rgba(0,30,20,0.9); text-shadow: 0 0 20px #00ffaa; box-shadow: 0 0 30px rgba(0,255,170,0.5), inset 0 0 20px rgba(0,255,170,0.3); }
    }

    @keyframes cyberFlip20 {
      0% { filter: blur(10px); transform: scale(0); opacity: 0; }
      50% { filter: blur(0); transform: scale(1.5); background: #fff; color: #000; box-shadow: 0 0 100px #fff; }
      100% { transform: scale(1); color: #fff; border-color: #fff; background: #b500ff; text-shadow: 0 0 20px #fff; box-shadow: 0 0 50px #b500ff, inset 0 0 30px rgba(255,255,255,0.8); }
    }

    @keyframes cyberPulseResult { 
      0% { box-shadow: 0 0 0 rgba(255,0,85,0); border-color: #2a1b42; } 
      50% { box-shadow: 0 0 30px rgba(255,0,85,0.4); border-color: var(--mx-neon-pink); } 
      100% { box-shadow: 0 0 0 rgba(255,0,85,0); border-color: #2a1b42; } 
    }
    
    @media (max-width: 860px) {
      .mx-grid { grid-template-columns: 1fr; }
      .mx-controls { grid-template-columns: 1fr 1fr; }
      .mx-btn.play { grid-column: 1 / -1; }
      .mx-reel { margin: 20px 0; gap: 8px; }
      .mx-box { min-height: 80px; font-size: 1.25rem; }
    }
  </style>
</head>
<body>
  <main class="mx-wrap">
    <div class="mx-top">
      <a href="/casino" data-nav="soft" class="linkbtn" style="border: 1px solid var(--mx-neon-cyan); color: var(--mx-neon-cyan); background: transparent;"><i class="fa-solid fa-arrow-left"></i> SYSTEM_MENU</a>
      <h1 class="mx-title">CYBER_CARPAN</h1>
      <div class="mx-badge"><i class="fa-solid fa-coins"></i> <span id="mxBalance">0</span></div>
    </div>
    <section class="mx-grid">
      <section class="mx-card">
        <div class="mx-card-title">>> SEQUENCE_GENERATOR_V5</div>
        <div class="mx-reel" id="mxReel">
          <div class="mx-box locked" data-idx="0"></div>
          <div class="mx-box locked" data-idx="1"></div>
          <div class="mx-box locked" data-idx="2"></div>
          <div class="mx-box locked" data-idx="3"></div>
          <div class="mx-box locked" data-idx="4"></div>
        </div>
        <div class="mx-controls">
          <input id="mxBet" type="number" inputmode="numeric" min="1" step="1" placeholder="BET_AMOUNT" />
          <button class="mx-btn" id="mxMin" type="button">MIN</button>
          <button class="mx-btn" id="mxMax" type="button">MAX</button>
          <button class="mx-btn play" id="mxPlay" type="button">INITIATE</button>
        </div>
        <div class="mx-state" id="mxState">SYSTEM_READY</div>
      </section>
      <section class="mx-card">
        <div class="mx-card-title">>> OUTPUT_TELEMETRY</div>
        <div id="mxResult" class="mx-result">
          <div class="mx-line"><span>Nodes</span><b id="mxPicks" class="mx-picks">NULL</b></div>
          <div class="mx-line"><span>Net_Multiplier</span><b id="mxTotal">NULL</b></div>
          <div class="mx-line"><span>Stake</span><b id="mxBetOut">0</b></div>
          <div class="mx-line"><span>Return</span><b id="mxPayout">0</b></div>
        </div>
        <div class="mx-card-title" style="margin-top:20px;">>> RECENT_LOGS</div>
        <div class="mx-history" id="mxHistory"></div>
      </section>
    </section>
  </main>

  <script src="/pc/js/app.js"></script>
  <script>
    (function () {
      const betInput = document.getElementById("mxBet");
      const minBtn = document.getElementById("mxMin");
      const maxBtn = document.getElementById("mxMax");
      const playBtn = document.getElementById("mxPlay");
      const stateText = document.getElementById("mxState");
      const balanceText = document.getElementById("mxBalance");
      const picksText = document.getElementById("mxPicks");
      const totalText = document.getElementById("mxTotal");
      const betOutText = document.getElementById("mxBetOut");
      const payoutText = document.getElementById("mxPayout");
      const resultCard = document.getElementById("mxResult");
      const historyWrap = document.getElementById("mxHistory");
      const boxes = Array.from(document.querySelectorAll(".mx-box"));

      let constants = { min_bet: 100, max_bet: 0, reveal_interval_ms: 350 };
      let balance = 0;
      let revealBusy = false;

      function idem(prefix) {
        return prefix + "_" + Date.now() + "_" + Math.random().toString(16).slice(2, 10);
      }

      function intVal(v) {
        const n = Number(v || 0);
        return Number.isFinite(n) ? Math.max(0, Math.floor(n)) : 0;
      }

      function setBusy(v) {
        revealBusy = !!v;
        const blocked = intVal(constants.max_bet || 0) < intVal(constants.min_bet || 100);
        playBtn.disabled = revealBusy || blocked;
        minBtn.disabled = revealBusy || blocked;
        maxBtn.disabled = revealBusy || blocked;
        betInput.disabled = revealBusy;
      }

      function resetBoxes() {
        boxes.forEach(function (b) {
          b.className = "mx-box locked";
          b.textContent = "";
        });
      }

      function updateBalance(v) {
        balance = intVal(v);
        balanceText.textContent = String(balance);
      }

      function applyLimits(next) {
        if (!next) return;
        constants = Object.assign({}, constants, next);
        const minBet = intVal(constants.min_bet || 100);
        const maxBet = intVal(constants.max_bet || 0);
        betInput.min = String(minBet);
        if (maxBet > 0) betInput.max = String(maxBet);
        const cur = intVal(betInput.value);
        if (!cur || cur < minBet) betInput.value = String(minBet);
        if (maxBet > 0 && cur > maxBet) betInput.value = String(maxBet);
        setBusy(revealBusy);
      }

      function setStatus(msg, isErr) {
        stateText.textContent = msg || "";
        stateText.style.color = isErr ? "var(--mx-neon-pink)" : "var(--mx-neon-cyan)";
        stateText.style.textShadow = isErr ? "0 0 5px var(--mx-neon-pink)" : "0 0 5px var(--mx-neon-cyan)";
      }

      function formatTime(ts) {
        const d = new Date(Number(ts || 0) * 1000);
        if (!Number.isFinite(d.getTime())) return "NULL";
        const h = String(d.getHours()).padStart(2, '0');
        const m = String(d.getMinutes()).padStart(2, '0');
        const s = String(d.getSeconds()).padStart(2, '0');
        return h + ':' + m + ':' + s;
      }

      function renderHistory(rows) {
        if (!Array.isArray(rows) || !rows.length) {
          historyWrap.innerHTML = '<div class="mx-row"><div class="mx-hdr">DATABASE_EMPTY</div></div>';
          return;
        }
        const header = '<div class="mx-row mx-hdr"><div>T_STAMP</div><div>STAKE</div><div>MULT</div><div>PAYOUT</div></div>';
        const body = rows.map(function (r) {
          return '<div class="mx-row"><div>' + formatTime(r.created_at) + '</div><div style="color:#a8a2b5">' + intVal(r.bet_amount) + '</div><div style="color:#00f0ff; text-shadow:0 0 5px #00f0ff;">' + String(r.total_multiplier || "-") + 'x</div><div style="color:' + (intVal(r.payout_amount) > intVal(r.bet_amount) ? '#00ffaa' : '#ff0055') + '">' + intVal(r.payout_amount) + '</div></div>';
        }).join("");
        historyWrap.innerHTML = header + body;
      }

      async function loadState() {
        const res = await fetch("/casino/multiplier/state", { headers: { "X-Requested-With": "fetch" }, cache: "no-store" });
        const data = await res.json();
        if (!data || !data.ok) throw new Error(data?.error || "state_failed");
        applyLimits(data.constants || constants);
        updateBalance(data.balance);
        if (!betInput.value) betInput.value = String(intVal(constants.min_bet || 100));
      }

      async function loadHistory() {
        const res = await fetch("/casino/multiplier/history", { headers: { "X-Requested-With": "fetch" }, cache: "no-store" });
        const data = await res.json();
        if (!data || !data.ok) return;
        updateBalance(data.balance);
        renderHistory(data.rows || []);
      }

      function showResult(round) {
        const picks = Array.isArray(round.picks) ? round.picks : [];
        picksText.textContent = picks.length ? picks.map(function (p) { return p + "x"; }).join(", ") : "NULL";
        totalText.textContent = String(round.total_multiplier || "-") + "x";
        betOutText.textContent = String(intVal(round.bet_amount));
        payoutText.textContent = String(intVal(round.payout_amount));
        payoutText.className = intVal(round.payout_amount) >= intVal(round.bet_amount) ? "gain" : "loss";

        resultCard.classList.remove("flash", "mega");
        void resultCard.offsetWidth;
        resultCard.classList.add("flash");
        if (Number(round.total_multiplier || 0) >= 10) resultCard.classList.add("mega");
      }

      async function revealPicks(picks) {
        resetBoxes();
        const baseInterval = intVal(constants.reveal_interval_ms || 350);
        
        for (let i = 0; i < 5; i++) {
          const value = picks[i] || "-";
          const num = Number(value);
          const box = boxes[i];
          if (!box) continue;
          
          box.textContent = String(value) + "x";
          
          let tierClass = "tier-1";
          let waitMultiplier = 1;
          
          if (num >= 20) {
            tierClass = "tier-20"; waitMultiplier = 3.5;
          } else if (num >= 10) {
            tierClass = "tier-10"; waitMultiplier = 2.5;
          } else if (num >= 5) {
            tierClass = "tier-5"; waitMultiplier = 1.8;
          } else if (num >= 3) {
            tierClass = "tier-3"; waitMultiplier = 1.3;
          } else if (num >= 2) {
            tierClass = "tier-2"; waitMultiplier = 1.1;
          } else if (num >= 1) {
            tierClass = "tier-1"; waitMultiplier = 1;
          } else { 
            tierClass = "tier-0"; waitMultiplier = 0.6; 
          }

          box.className = "mx-box " + tierClass;
          
          await new Promise(function (r) { setTimeout(r, baseInterval * waitMultiplier); });
        }
      }

      async function playRound() {
        if (revealBusy) return;
        const betAmount = intVal(betInput.value);
        if (betAmount < intVal(constants.min_bet)) {
          setStatus("ERR: STAKE_TOO_LOW -> " + intVal(constants.min_bet), true);
          return;
        }
        if (betAmount > intVal(constants.max_bet)) {
          setStatus("ERR: STAKE_TOO_HIGH -> " + intVal(constants.max_bet), true);
          return;
        }
        setBusy(true);
        setStatus("PROCESSING_SEQUENCE...");
        try {
          const res = await fetch("/casino/multiplier/play", {
            method: "POST",
            headers: { "Content-Type": "application/json", "X-Requested-With": "fetch" },
            body: JSON.stringify({ bet_amount: betAmount, idempotency_key: idem("multiplier_play") }),
          });
          const data = await res.json();
          applyLimits(data.constants || constants);
          updateBalance(data.balance);
          if (!res.ok || !data.ok) {
            if (data.error === "invalid_bet_min") setStatus("ERR: MIN_STAKE_VIOLATION -> " + intVal(constants.min_bet), true);
            else if (data.error === "invalid_bet_max") setStatus("ERR: MAX_STAKE_VIOLATION -> " + intVal(constants.max_bet), true);
            else setStatus("CRITICAL_ERR: " + String(data.error || "play_failed"), true);
            return;
          }
          const round = data.state || {};
          await revealPicks(round.picks || []);
          showResult(round);
          setStatus("SEQUENCE_COMPLETE");
          await loadHistory();
        } catch (err) {
          console.log("multiplier play error", err);
          setStatus("NETWORK_FAILURE", true);
        } finally {
          setBusy(false);
        }
      }

      minBtn.onclick = function () {
        betInput.value = String(intVal(constants.min_bet || 100));
      };
      maxBtn.onclick = function () {
        const maxBet = Math.min(intVal(constants.max_bet || 10000), intVal(balance));
        betInput.value = String(maxBet > 0 ? maxBet : intVal(constants.min_bet || 100));
      };
      playBtn.onclick = playRound;

      (async function init() {
        try {
          await loadState();
          await loadHistory();
          resetBoxes();
          setStatus("SYSTEM_READY");
          setInterval(function () {
            if (revealBusy) return;
            loadState().catch(() => {});
            loadHistory().catch(() => {});
          }, 12000);
        } catch (err) {
          console.log("multiplier init error", err);
          setStatus("BOOT_SEQUENCE_FAILED", true);
        }
      })();
    })();
  </script>
</body>
</html>