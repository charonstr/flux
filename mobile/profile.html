<!DOCTYPE html>
<html lang="{{ current }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{{ t.profile }} - Euphorium</title>
    <link rel="stylesheet" href="/mobile/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <main>
        <div class="wrap">
            <div class="panel">
                <h2>{{ t.profile }}</h2>
                {% if error %}<div class="error">{{ error }}</div>{% endif %}
                {% if success %}<div class="error" style="background:rgba(72,187,120,0.1); color:#2f855a;">{{ success }}</div>{% endif %}
                
                <form class="form" method="POST" enctype="multipart/form-data">
                    <div style="text-align:center; margin-bottom:10px;">
                        <img src="{{ avatar }}" class="avatar" style="width:100px; height:100px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-user"></i>
                        <input type="text" name="username" value="{{ username }}" {% if not canchangeusername %}disabled{% endif %}>
                    </div>
                    {% if not canchangeusername %}<p class="hint">{{ t.renamewait }}</p>{% endif %}
                    
                    <div class="input-group">
                        <i class="fa-solid fa-image"></i>
                        <input type="file" name="avatar" id="avatarfile">
                    </div>
                    <input type="hidden" name="crop" id="cropval" value="0">
                    <div id="croppanel" style="display:none; text-align:center;">
                        <p>{{ t.cropauto }}</p>
                        <div class="acts"><button type="button" class="pickbtn" onclick="setcrop(1)">{{ t.cropapply }}</button><button type="button" class="linkbtn" onclick="setcrop(0)">{{ t.cropkeep }}</button></div>
                    </div>
                    <button class="pickbtn">{{ t.save }}</button>
                </form>
                <div style="margin-top:15px; display:grid; gap:10px;">
                    <a href="/settings" class="linkbtn" data-nav="soft"><i class="fa-solid fa-gear" style="margin-right:8px;"></i> {{ t.settings }}</a>
                    <a href="/logout" class="linkbtn" style="color:#ef4444; border-color:#ef4444;"><i class="fa-solid fa-right-from-bracket" style="margin-right:8px;"></i> {{ t.logout }}</a>
                </div>
            </div>
        </div>
    </main>
    <script src="/mobile/app.js"></script>
</body>
</html>